<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p362" style="overflow: hidden; position: relative; background-color: white; width: 640px; height: 853px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_362{left:266px;bottom:652px;letter-spacing:0.12px;}
#t2_362{left:201px;bottom:734px;letter-spacing:0.12px;}
#t3_362{left:201px;bottom:709px;letter-spacing:0.12px;}
#t4_362{left:112px;bottom:730px;letter-spacing:0.17px;}
#t5_362{left:112px;bottom:711px;letter-spacing:0.2px;}
#t6_362{left:316px;bottom:652px;letter-spacing:0.11px;word-spacing:0.01px;}
#t7_362{left:162px;bottom:565px;letter-spacing:0.18px;}
#t8_362{left:242px;bottom:566px;letter-spacing:0.12px;}
#t9_362{left:162px;bottom:544px;letter-spacing:0.2px;}
#ta_362{left:202px;bottom:545px;letter-spacing:0.12px;}
#tb_362{left:166px;bottom:499px;letter-spacing:-0.17px;word-spacing:0.01px;}
#tc_362{left:248px;bottom:499px;letter-spacing:-0.15px;word-spacing:0.01px;}
#td_362{left:455px;bottom:501px;letter-spacing:-0.27px;}
#te_362{left:471px;bottom:499px;}
#tf_362{left:80px;bottom:448px;letter-spacing:-0.14px;}
#tg_362{left:106px;bottom:426px;letter-spacing:-0.17px;word-spacing:-1.1px;}
#th_362{left:175px;bottom:428px;letter-spacing:-0.27px;}
#ti_362{left:211px;bottom:426px;letter-spacing:-0.14px;word-spacing:-1.07px;}
#tj_362{left:390px;bottom:428px;letter-spacing:-0.27px;}
#tk_362{left:450px;bottom:426px;letter-spacing:-0.15px;word-spacing:-1.06px;}
#tl_362{left:80px;bottom:405px;letter-spacing:-0.14px;word-spacing:1.03px;}
#tm_362{left:304px;bottom:406px;letter-spacing:-0.27px;}
#tn_362{left:320px;bottom:405px;}
#to_362{left:329px;bottom:406px;letter-spacing:-0.27px;}
#tp_362{left:391px;bottom:405px;letter-spacing:-0.14px;word-spacing:1.03px;}
#tq_362{left:80px;bottom:383px;letter-spacing:-0.14px;}
#tr_362{left:144px;bottom:384px;letter-spacing:-0.27px;}
#ts_362{left:208px;bottom:383px;letter-spacing:-0.13px;word-spacing:2.31px;}
#tt_362{left:509px;bottom:384px;letter-spacing:-0.27px;}
#tu_362{left:526px;bottom:383px;letter-spacing:-0.18px;word-spacing:2.35px;}
#tv_362{left:80px;bottom:361px;letter-spacing:-0.14px;word-spacing:0.47px;}
#tw_362{left:197px;bottom:362px;letter-spacing:-0.27px;}
#tx_362{left:251px;bottom:361px;letter-spacing:-0.16px;word-spacing:0.5px;}
#ty_362{left:80px;bottom:341px;letter-spacing:-0.27px;}
#tz_362{left:137px;bottom:339px;letter-spacing:-0.14px;word-spacing:-0.93px;}
#t10_362{left:80px;bottom:318px;letter-spacing:-0.14px;word-spacing:1.26px;}
#t11_362{left:80px;bottom:296px;letter-spacing:-0.15px;word-spacing:1.31px;}
#t12_362{left:364px;bottom:297px;letter-spacing:-0.27px;}
#t13_362{left:386px;bottom:296px;letter-spacing:-0.12px;word-spacing:1.29px;}
#t14_362{left:80px;bottom:274px;letter-spacing:-0.15px;word-spacing:0.52px;}
#t15_362{left:231px;bottom:276px;letter-spacing:-0.27px;}
#t16_362{left:285px;bottom:274px;letter-spacing:-0.15px;word-spacing:0.51px;}
#t17_362{left:80px;bottom:252px;letter-spacing:-0.15px;word-spacing:0.71px;}
#t18_362{left:80px;bottom:231px;letter-spacing:-0.13px;word-spacing:-0.32px;}
#t19_362{left:247px;bottom:232px;letter-spacing:-0.27px;}
#t1a_362{left:263px;bottom:231px;}
#t1b_362{left:271px;bottom:231px;letter-spacing:-0.15px;word-spacing:-0.3px;}
#t1c_362{left:341px;bottom:231px;letter-spacing:-0.14px;word-spacing:-0.29px;}
#t1d_362{left:80px;bottom:209px;letter-spacing:-0.14px;}
#t1e_362{left:98px;bottom:210px;letter-spacing:-0.27px;}
#t1f_362{left:114px;bottom:209px;}
#t1g_362{left:106px;bottom:187px;letter-spacing:-0.14px;word-spacing:-0.33px;}
#t1h_362{left:80px;bottom:165px;letter-spacing:-0.14px;}
#t1i_362{left:259px;bottom:167px;letter-spacing:-0.27px;}
#t1j_362{left:365px;bottom:165px;}
#t1k_362{left:80px;bottom:139px;}
#t1l_362{left:88px;bottom:139px;letter-spacing:0.23px;}
#t1m_362{left:140px;bottom:139px;letter-spacing:0.23px;}
#t1n_362{left:162px;bottom:139px;}
#t1o_362{left:169px;bottom:139px;letter-spacing:0.23px;}
#t1p_362{left:273px;bottom:139px;letter-spacing:0.23px;}
#t1q_362{left:309px;bottom:72px;letter-spacing:-0.16px;}

.s1_362{font-size:12px;font-family:InconsolataLGC_1ov;color:#000;}
.s2_362{font-size:14px;font-family:LinBiolinumO_1p1;color:#000;}
.s3_362{font-size:17px;font-family:LinBiolinumOB_gnt;color:#000;}
.s4_362{font-size:17px;font-family:LinLibertineO_gnp;color:#000;}
.s5_362{font-size:14px;font-family:InconsolataLGC_go0;color:#000;}
.s6_362{font-size:17px;font-family:LinLibertineO_gnp;color:#80171F;}
.s7_362{font-size:12px;font-family:InconsolataLGC_go0;color:#686868;}
.s8_362{font-size:12px;font-family:InconsolataLGC-Bold_goe;color:#4172A3;}
.s9_362{font-size:12px;font-family:InconsolataLGC_go0;color:#262626;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts362" type="text/css" >

@font-face {
	font-family: InconsolataLGC-Bold_goe;
	src: url("fonts/InconsolataLGC-Bold_goe.woff") format("woff");
}

@font-face {
	font-family: InconsolataLGC_1ov;
	src: url("fonts/InconsolataLGC_1ov.woff") format("woff");
}

@font-face {
	font-family: InconsolataLGC_go0;
	src: url("fonts/InconsolataLGC_go0.woff") format("woff");
}

@font-face {
	font-family: LinBiolinumOB_gnt;
	src: url("fonts/LinBiolinumOB_gnt.woff") format("woff");
}

@font-face {
	font-family: LinBiolinumO_1p1;
	src: url("fonts/LinBiolinumO_1p1.woff") format("woff");
}

@font-face {
	font-family: LinLibertineO_gnp;
	src: url("fonts/LinLibertineO_gnp.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg362Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg362" style="-webkit-user-select: none;"><svg id="pdf362" width="640" height="853" viewBox="0 0 640 853" style="width:640px; height:853px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_362"><path d="M112.6,306.4V90.1H528.5V306.4Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_362{
fill: #E8E8E8;
stroke: #000;
stroke-width: 0.589;
stroke-linecap: round;
stroke-linejoin: round;
}
.g1_362{
fill: none;
stroke: #000;
stroke-width: 0.864;
stroke-linecap: round;
stroke-linejoin: round;
}
.g2_362{
fill: #000;
stroke: #000;
stroke-width: 0.152;
}
.g3_362{
fill: #000;
stroke: #000;
stroke-width: 0.432;
}
.g4_362{
fill: #000;
stroke: #000;
stroke-width: 0.393;
stroke-linecap: round;
stroke-linejoin: round;
}
.g5_362{
fill: none;
stroke: #000;
stroke-width: 0.589;
stroke-linecap: round;
stroke-linejoin: round;
}
]]></style>
</defs>
<g clip-path="url(#c0_362)">
<path d="M189.8,91.2H522.5c3.4,0,5.6,2.2,5.6,5.6v49.9c0,3.3,-2.2,5.5,-5.6,5.5H189.8c-3.3,0,-5.6,-2.2,-5.6,-5.5V96.8c0,-3.4,2.3,-5.6,5.6,-5.6Z" class="g0_362"/>
<path d="M256.3,229.9h94.3c3.4,0,5.7,-2.2,5.7,-5.6V209.9" class="g1_362"/>
<path fill-rule="evenodd" d="M356.3,213.4l1.7,1.7L356.3,209l-1.8,6.1Z" class="g2_362"/>
<path d="M226.4,135.6h8.3c3.5,0,5.7,2.2,5.7,5.5v73.2" class="g1_362"/>
<path fill-rule="evenodd" d="M240.4,210.9l-1.7,-1.7l1.7,6l1.7,-6Z" class="g2_362"/>
<path d="M156.5,122.3H182" class="g1_362"/>
<path fill-rule="evenodd" d="M178.6,122.3l-1.8,1.7l6.1,-1.7l-6.1,-1.7Z" class="g3_362"/>
<path d="M227.5,232.7v30" class="g1_362"/>
<path fill-rule="evenodd" d="M227.5,259.2l-1.7,-1.7l1.7,6l1.7,-6Z" class="g2_362"/>
<path d="M230.3,229.9c0,1.6,-1.3,2.8,-2.8,2.8c-1.5,0,-2.8,-1.2,-2.8,-2.8c0,-1.5,1.3,-2.7,2.8,-2.7c1.5,0,2.8,1.2,2.8,2.7Z" class="g4_362"/>
<path d="M256.3,229.9c0,1.6,-1.3,2.8,-2.8,2.8c-1.5,0,-2.8,-1.2,-2.8,-2.8c0,-1.5,1.3,-2.7,2.8,-2.7c1.5,0,2.8,1.2,2.8,2.7Z" class="g4_362"/>
<path d="M266.5,229.9c0,7.2,-5.8,13,-12.9,13c-7.2,0,-13,-5.8,-13,-13c0,-7.1,5.8,-12.9,13,-12.9c7.1,0,12.9,5.8,12.9,12.9ZM240.4,229.9c0,7.2,-5.8,13,-12.9,13c-7.2,0,-13,-5.8,-13,-13c0,-7.1,5.8,-12.9,13,-12.9c7.1,0,12.9,5.8,12.9,12.9Z" class="g5_362"/>
<path d="M306.2,174.4h99.9c3.3,0,5.5,2.2,5.5,5.6v22.1c0,3.4,-2.2,5.6,-5.5,5.6H306.2c-3.3,0,-5.5,-2.2,-5.5,-5.6V180c0,-3.4,2.2,-5.6,5.5,-5.6Z" class="g0_362"/>
<path d="M284.1,191.1h14.4" class="g1_362"/>
<path fill-rule="evenodd" d="M295,191.1l-1.7,1.7l6,-1.7l-6,-1.8Z" class="g3_362"/>
<path d="M356.2,174.4V154.5" class="g1_362"/>
<path fill-rule="evenodd" d="M356.2,157.9l1.7,1.7l-1.7,-6l-1.8,6Z" class="g2_362"/>
</g>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_362" class="t s1_362">E1 </span>
<span id="t2_362" class="t s1_362">make-withdraw: ... </span>
<span id="t3_362" class="t s1_362">W1: </span>
<span id="t4_362" class="t s2_362">global </span>
<span id="t5_362" class="t s2_362">env </span>
<span id="t6_362" class="t s1_362">balance: 50 </span>
<span id="t7_362" class="t s2_362">parameters: </span><span id="t8_362" class="t s1_362">amount </span>
<span id="t9_362" class="t s2_362">body: </span><span id="ta_362" class="t s1_362">... </span>
<span id="tb_362" class="t s3_362">Figure 3.9: </span><span id="tc_362" class="t s4_362">Environments aer the call to </span><span id="td_362" class="t s5_362">W1</span><span id="te_362" class="t s4_362">. </span>
<span id="tf_362" class="t s4_362">found by following the enclosing-environment pointer to E1. </span>
<span id="tg_362" class="t s4_362">When the </span><span id="th_362" class="t s5_362">set! </span><span id="ti_362" class="t s4_362">is executed, the binding of </span><span id="tj_362" class="t s5_362">balance </span><span id="tk_362" class="t s4_362">in E1 is changed. </span>
<span id="tl_362" class="t s4_362">At the completion of the call to </span><span id="tm_362" class="t s5_362">W1</span><span id="tn_362" class="t s4_362">, </span><span id="to_362" class="t s5_362">balance </span><span id="tp_362" class="t s4_362">is 50, and the frame that </span>
<span id="tq_362" class="t s4_362">contains </span><span id="tr_362" class="t s5_362">balance </span><span id="ts_362" class="t s4_362">is still pointed to by the procedure object </span><span id="tt_362" class="t s5_362">W1</span><span id="tu_362" class="t s4_362">. e </span>
<span id="tv_362" class="t s4_362">frame that binds </span><span id="tw_362" class="t s5_362">amount </span><span id="tx_362" class="t s4_362">(in which we executed the code that changed </span>
<span id="ty_362" class="t s5_362">balance</span><span id="tz_362" class="t s4_362">) is no longer relevant, since the procedure call that constructed </span>
<span id="t10_362" class="t s4_362">it has terminated, and there are no pointers to that frame from other </span>
<span id="t11_362" class="t s4_362">parts of the environment. e next time </span><span id="t12_362" class="t s5_362">W1 </span><span id="t13_362" class="t s4_362">is called, this will build a </span>
<span id="t14_362" class="t s4_362">new frame that binds </span><span id="t15_362" class="t s5_362">amount </span><span id="t16_362" class="t s4_362">and whose enclosing environment is E1. </span>
<span id="t17_362" class="t s4_362">We see that E1 serves as the “place” that holds the local state variable </span>
<span id="t18_362" class="t s4_362">for the procedure object </span><span id="t19_362" class="t s5_362">W1</span><span id="t1a_362" class="t s4_362">. </span><span id="t1b_362" class="t s6_362">Figure 3.9 </span><span id="t1c_362" class="t s4_362">shows the situation aer the call </span>
<span id="t1d_362" class="t s4_362">to </span><span id="t1e_362" class="t s5_362">W1</span><span id="t1f_362" class="t s4_362">. </span>
<span id="t1g_362" class="t s4_362">Observe what happens when we create a second “withdraw” object </span>
<span id="t1h_362" class="t s4_362">by making another call to </span><span id="t1i_362" class="t s5_362">make-withdraw</span><span id="t1j_362" class="t s4_362">: </span>
<span id="t1k_362" class="t s7_362">(</span><span id="t1l_362" class="t s8_362">define </span><span id="t1m_362" class="t s9_362">W2 </span><span id="t1n_362" class="t s7_362">(</span><span id="t1o_362" class="t s9_362">make-withdraw </span><span id="t1p_362" class="t s7_362">100)) </span>
<span id="t1q_362" class="t s4_362">334 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
