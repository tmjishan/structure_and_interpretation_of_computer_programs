<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p850" style="overflow: hidden; position: relative; background-color: white; width: 640px; height: 853px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_850{left:122px;bottom:738px;letter-spacing:-0.15px;}
#t2_850{left:163px;bottom:739px;letter-spacing:-0.27px;}
#t3_850{left:196px;bottom:738px;}
#t4_850{left:204px;bottom:738px;letter-spacing:-0.12px;word-spacing:0.23px;}
#t5_850{left:293px;bottom:738px;letter-spacing:-0.17px;}
#t6_850{left:323px;bottom:738px;letter-spacing:-0.17px;word-spacing:0.31px;}
#t7_850{left:415px;bottom:738px;letter-spacing:-0.19px;word-spacing:0.31px;}
#t8_850{left:122px;bottom:716px;letter-spacing:-0.14px;word-spacing:1.01px;}
#t9_850{left:122px;bottom:694px;letter-spacing:-0.14px;word-spacing:1.47px;}
#ta_850{left:122px;bottom:673px;letter-spacing:-0.14px;word-spacing:0.07px;}
#tb_850{left:122px;bottom:651px;letter-spacing:-0.24px;word-spacing:0.17px;}
#tc_850{left:122px;bottom:611px;letter-spacing:-0.2px;word-spacing:-0.97px;}
#td_850{left:224px;bottom:611px;letter-spacing:-0.13px;word-spacing:-1.04px;}
#te_850{left:122px;bottom:589px;letter-spacing:-0.15px;word-spacing:-1.27px;}
#tf_850{left:122px;bottom:567px;letter-spacing:-0.15px;word-spacing:2.15px;}
#tg_850{left:122px;bottom:546px;letter-spacing:-0.14px;word-spacing:-0.41px;}
#th_850{left:229px;bottom:546px;letter-spacing:-0.17px;word-spacing:-0.38px;}
#ti_850{left:320px;bottom:546px;letter-spacing:-0.15px;word-spacing:-0.42px;}
#tj_850{left:122px;bottom:524px;letter-spacing:-0.14px;word-spacing:1.43px;}
#tk_850{left:122px;bottom:502px;letter-spacing:-0.14px;word-spacing:2.48px;}
#tl_850{left:122px;bottom:480px;letter-spacing:-0.15px;word-spacing:-0.82px;}
#tm_850{left:122px;bottom:459px;letter-spacing:-0.14px;word-spacing:-0.6px;}
#tn_850{left:358px;bottom:459px;letter-spacing:-0.17px;word-spacing:-0.53px;}
#to_850{left:448px;bottom:459px;letter-spacing:-0.14px;word-spacing:-0.59px;}
#tp_850{left:122px;bottom:437px;letter-spacing:-0.14px;word-spacing:0.5px;}
#tq_850{left:122px;bottom:415px;letter-spacing:-0.16px;word-spacing:0.03px;}
#tr_850{left:122px;bottom:389px;}
#ts_850{left:129px;bottom:389px;letter-spacing:0.23px;}
#tt_850{left:181px;bottom:389px;letter-spacing:0.23px;word-spacing:4.33px;}
#tu_850{left:218px;bottom:389px;letter-spacing:7.82px;}
#tv_850{left:270px;bottom:389px;}
#tw_850{left:137px;bottom:370px;letter-spacing:0.23px;word-spacing:4.32px;}
#tx_850{left:181px;bottom:370px;letter-spacing:7.76px;}
#ty_850{left:203px;bottom:370px;letter-spacing:0.23px;word-spacing:4.32px;}
#tz_850{left:241px;bottom:370px;letter-spacing:7.76px;}
#t10_850{left:263px;bottom:370px;letter-spacing:0.23px;}
#t11_850{left:122px;bottom:330px;letter-spacing:-0.14px;word-spacing:-0.68px;}
#t12_850{left:397px;bottom:331px;}
#t13_850{left:409px;bottom:330px;letter-spacing:-0.17px;}
#t14_850{left:438px;bottom:331px;}
#t15_850{left:446px;bottom:330px;letter-spacing:-0.31px;word-spacing:-0.36px;}
#t16_850{left:122px;bottom:308px;letter-spacing:-0.13px;word-spacing:-1.17px;}
#t17_850{left:271px;bottom:310px;letter-spacing:-0.27px;}
#t18_850{left:328px;bottom:308px;}
#t19_850{left:334px;bottom:310px;letter-spacing:-0.27px;}
#t1a_850{left:391px;bottom:308px;letter-spacing:-0.13px;word-spacing:-1.17px;}
#t1b_850{left:122px;bottom:287px;letter-spacing:-0.14px;word-spacing:0.83px;}
#t1c_850{left:511px;bottom:288px;}
#t1d_850{left:122px;bottom:265px;letter-spacing:-0.15px;word-spacing:0.73px;}
#t1e_850{left:178px;bottom:266px;}
#t1f_850{left:191px;bottom:265px;letter-spacing:-0.14px;}
#t1g_850{left:210px;bottom:266px;letter-spacing:-0.27px;}
#t1h_850{left:236px;bottom:266px;letter-spacing:-0.27px;}
#t1i_850{left:262px;bottom:266px;}
#t1j_850{left:279px;bottom:266px;letter-spacing:-0.27px;}
#t1k_850{left:305px;bottom:266px;letter-spacing:-0.27px;}
#t1l_850{left:331px;bottom:266px;}
#t1m_850{left:349px;bottom:266px;letter-spacing:-0.27px;}
#t1n_850{left:378px;bottom:265px;letter-spacing:-0.15px;word-spacing:0.76px;}
#t1o_850{left:464px;bottom:266px;}
#t1p_850{left:477px;bottom:265px;letter-spacing:-0.17px;}
#t1q_850{left:507px;bottom:266px;}
#t1r_850{left:515px;bottom:265px;}
#t1s_850{left:122px;bottom:243px;letter-spacing:-0.14px;word-spacing:1.12px;}
#t1t_850{left:122px;bottom:221px;letter-spacing:-0.14px;word-spacing:0.38px;}
#t1u_850{left:122px;bottom:200px;letter-spacing:-0.15px;word-spacing:1.39px;}
#t1v_850{left:122px;bottom:178px;letter-spacing:-0.14px;word-spacing:0.29px;}
#t1w_850{left:122px;bottom:156px;letter-spacing:-0.15px;}
#t1x_850{left:149px;bottom:158px;letter-spacing:-0.27px;}
#t1y_850{left:202px;bottom:156px;letter-spacing:-0.15px;}
#t1z_850{left:220px;bottom:158px;letter-spacing:-0.27px;}
#t20_850{left:257px;bottom:156px;letter-spacing:-0.14px;word-spacing:-0.02px;}
#t21_850{left:309px;bottom:72px;letter-spacing:-0.16px;}

.s1_850{font-size:17px;font-family:LinLibertineO_gnp;color:#000;}
.s2_850{font-size:14px;font-family:InconsolataLGC_go0;color:#000;}
.s3_850{font-size:17px;font-family:LinLibertineO_gnp;color:#80171F;}
.s4_850{font-size:17px;font-family:LinBiolinumOB_gnt;color:#000;}
.s5_850{font-size:12px;font-family:InconsolataLGC_go0;color:#686868;}
.s6_850{font-size:12px;font-family:InconsolataLGC-Bold_goe;color:#4172A3;}
.s7_850{font-size:12px;font-family:InconsolataLGC_go0;color:#262626;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts850" type="text/css" >

@font-face {
	font-family: InconsolataLGC-Bold_goe;
	src: url("fonts/InconsolataLGC-Bold_goe.woff") format("woff");
}

@font-face {
	font-family: InconsolataLGC_go0;
	src: url("fonts/InconsolataLGC_go0.woff") format("woff");
}

@font-face {
	font-family: LinBiolinumOB_gnt;
	src: url("fonts/LinBiolinumOB_gnt.woff") format("woff");
}

@font-face {
	font-family: LinLibertineO_gnp;
	src: url("fonts/LinLibertineO_gnp.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg850Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg850" style="-webkit-user-select: none;"><svg id="pdf850" width="640" height="853" viewBox="0 0 640 853" style="width:640px; height:853px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
</defs>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_850" class="t s1_850">using </span><span id="t2_850" class="t s2_850">set!</span><span id="t3_850" class="t s1_850">. </span><span id="t4_850" class="t s3_850">Section 4.1.6 </span><span id="t5_850" class="t s1_850">and </span><span id="t6_850" class="t s3_850">Exercise 4.16 </span><span id="t7_850" class="t s1_850">showed how to </span>
<span id="t8_850" class="t s1_850">modify the metacircular interpreter to accomplish this by </span>
<span id="t9_850" class="t s1_850" data-mappings='[[24,"fi"]]'>scanning out internal deﬁnitions. Modify the compiler to </span>
<span id="ta_850" class="t s1_850">perform the same transformation before it compiles a pro- </span>
<span id="tb_850" class="t s1_850">cedure body. </span>
<span id="tc_850" class="t s4_850">Exercise 5.44: </span><span id="td_850" class="t s1_850">In this section we have focused on the use of </span>
<span id="te_850" class="t s1_850">the compile-time environment to produce lexical addresses. </span>
<span id="tf_850" class="t s1_850">But there are other uses for compile-time environments. </span>
<span id="tg_850" class="t s1_850">For instance, in </span><span id="th_850" class="t s3_850">Exercise 5.38 </span><span id="ti_850" class="t s1_850">we increased the eﬃciency of </span>
<span id="tj_850" class="t s1_850">compiled code by open-coding primitive procedures. Our </span>
<span id="tk_850" class="t s1_850">implementation treated the names of open-coded proce- </span>
<span id="tl_850" class="t s1_850">dures as reserved words. If a program were to rebind such a </span>
<span id="tm_850" class="t s1_850">name, the mechanism described in </span><span id="tn_850" class="t s3_850">Exercise 5.38 </span><span id="to_850" class="t s1_850">would still </span>
<span id="tp_850" class="t s1_850">open-code it as a primitive, ignoring the new binding. For </span>
<span id="tq_850" class="t s1_850">example, consider the procedure </span>
<span id="tr_850" class="t s5_850">(</span><span id="ts_850" class="t s6_850">lambda </span><span id="tt_850" class="t s5_850">(+ * </span><span id="tu_850" class="t s7_850">abxy</span><span id="tv_850" class="t s5_850">) </span>
<span id="tw_850" class="t s5_850">(+ (* </span><span id="tx_850" class="t s7_850">ax</span><span id="ty_850" class="t s5_850">) (* </span><span id="tz_850" class="t s7_850">by</span><span id="t10_850" class="t s5_850">))) </span>
<span id="t11_850" class="t s1_850">which computes a linear combination of </span><span id="t12_850" class="t s2_850">x </span><span id="t13_850" class="t s1_850">and </span><span id="t14_850" class="t s2_850">y</span><span id="t15_850" class="t s1_850">. We might </span>
<span id="t16_850" class="t s1_850">call it with arguments </span><span id="t17_850" class="t s2_850">+matrix</span><span id="t18_850" class="t s1_850">, </span><span id="t19_850" class="t s2_850">*matrix</span><span id="t1a_850" class="t s1_850">, and four matrices, </span>
<span id="t1b_850" class="t s1_850">but the open-coding compiler would still open-code the </span><span id="t1c_850" class="t s2_850">+ </span>
<span id="t1d_850" class="t s1_850">and the </span><span id="t1e_850" class="t s2_850">* </span><span id="t1f_850" class="t s1_850">in </span><span id="t1g_850" class="t s2_850">(+ </span><span id="t1h_850" class="t s2_850">(* </span><span id="t1i_850" class="t s2_850">a </span><span id="t1j_850" class="t s2_850">x) </span><span id="t1k_850" class="t s2_850">(* </span><span id="t1l_850" class="t s2_850">b </span><span id="t1m_850" class="t s2_850">y)) </span><span id="t1n_850" class="t s1_850">as primitive </span><span id="t1o_850" class="t s2_850">+ </span><span id="t1p_850" class="t s1_850">and </span><span id="t1q_850" class="t s2_850">*</span><span id="t1r_850" class="t s1_850">. </span>
<span id="t1s_850" class="t s1_850">Modify the open-coding compiler to consult the compile- </span>
<span id="t1t_850" class="t s1_850">time environment in order to compile the correct code for </span>
<span id="t1u_850" class="t s1_850">expressions involving the names of primitive procedures. </span>
<span id="t1v_850" class="t s1_850">(e code will work correctly as long as the program does </span>
<span id="t1w_850" class="t s1_850">not </span><span id="t1x_850" class="t s2_850">define </span><span id="t1y_850" class="t s1_850">or </span><span id="t1z_850" class="t s2_850">set! </span><span id="t20_850" class="t s1_850">these names.) </span>
<span id="t21_850" class="t s1_850">822 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
