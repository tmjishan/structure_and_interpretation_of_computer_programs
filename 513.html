<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p513" style="overflow: hidden; position: relative; background-color: white; width: 640px; height: 853px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_513{left:284px;bottom:722px;letter-spacing:0.14px;}
#t2_513{left:405px;bottom:729px;letter-spacing:0.2px;}
#t3_513{left:405px;bottom:710px;letter-spacing:0.18px;}
#t4_513{left:141px;bottom:714px;letter-spacing:0.16px;}
#t5_513{left:141px;bottom:736px;letter-spacing:0.16px;}
#t6_513{left:122px;bottom:658px;letter-spacing:-0.18px;word-spacing:2.02px;}
#t7_513{left:217px;bottom:658px;letter-spacing:-0.15px;word-spacing:2px;}
#t8_513{left:122px;bottom:636px;letter-spacing:-0.14px;word-spacing:0.01px;}
#t9_513{left:106px;bottom:571px;letter-spacing:-0.14px;word-spacing:0.84px;}
#ta_513{left:472px;bottom:571px;letter-spacing:0.18px;}
#tb_513{left:511px;bottom:571px;letter-spacing:-0.11px;word-spacing:0.83px;}
#tc_513{left:80px;bottom:549px;letter-spacing:-0.15px;word-spacing:0.99px;}
#td_513{left:80px;bottom:528px;letter-spacing:-0.14px;word-spacing:-0.02px;}
#te_513{left:80px;bottom:506px;letter-spacing:-0.17px;word-spacing:-0.76px;}
#tf_513{left:80px;bottom:484px;letter-spacing:-0.15px;word-spacing:-0.54px;}
#tg_513{left:80px;bottom:462px;letter-spacing:-0.15px;word-spacing:1.85px;}
#th_513{left:80px;bottom:441px;letter-spacing:-0.16px;word-spacing:2.04px;}
#ti_513{left:80px;bottom:419px;letter-spacing:-0.14px;word-spacing:1.3px;}
#tj_513{left:80px;bottom:397px;letter-spacing:-0.14px;word-spacing:0.01px;}
#tk_513{left:80px;bottom:376px;letter-spacing:-0.14px;word-spacing:-0.06px;}
#tl_513{left:436px;bottom:384px;letter-spacing:0.08px;}
#tm_513{left:452px;bottom:376px;letter-spacing:-0.14px;word-spacing:-0.06px;}
#tn_513{left:80px;bottom:354px;letter-spacing:-0.14px;word-spacing:1.7px;}
#to_513{left:422px;bottom:354px;letter-spacing:-0.12px;word-spacing:1.68px;}
#tp_513{left:509px;bottom:354px;letter-spacing:-0.18px;word-spacing:1.76px;}
#tq_513{left:80px;bottom:332px;letter-spacing:-0.15px;word-spacing:1.95px;}
#tr_513{left:80px;bottom:310px;letter-spacing:-0.15px;word-spacing:-0.34px;}
#ts_513{left:80px;bottom:289px;letter-spacing:-0.14px;word-spacing:0.69px;}
#tt_513{left:80px;bottom:267px;letter-spacing:-0.16px;word-spacing:1.4px;}
#tu_513{left:80px;bottom:245px;letter-spacing:-0.14px;}
#tv_513{left:94px;bottom:222px;letter-spacing:0.05px;}
#tw_513{left:105px;bottom:216px;letter-spacing:-0.13px;word-spacing:-0.55px;}
#tx_513{left:80px;bottom:198px;letter-spacing:-0.14px;word-spacing:0.18px;}
#ty_513{left:80px;bottom:180px;letter-spacing:-0.14px;word-spacing:0.36px;}
#tz_513{left:511px;bottom:180px;letter-spacing:-0.12px;}
#t10_513{left:80px;bottom:163px;letter-spacing:-0.14px;}
#t11_513{left:93px;bottom:163px;letter-spacing:-0.15px;word-spacing:0.36px;}
#t12_513{left:80px;bottom:145px;letter-spacing:-0.12px;word-spacing:-0.1px;}
#t13_513{left:80px;bottom:128px;letter-spacing:-0.11px;word-spacing:-0.02px;}
#t14_513{left:140px;bottom:128px;letter-spacing:-0.15px;word-spacing:0.04px;}
#t15_513{left:309px;bottom:72px;letter-spacing:-0.16px;}

.s1_513{font-size:14px;font-family:LinBiolinumO_2g-;color:#000;}
.s2_513{font-size:17px;font-family:LinBiolinumOB_gnt;color:#000;}
.s3_513{font-size:17px;font-family:LinLibertineO_gnp;color:#000;}
.s4_513{font-size:16px;font-family:LinLibertineOI_go3;color:#000;}
.s5_513{font-size:12px;font-family:LinLibertineO_gnp;color:#80171F;}
.s6_513{font-size:17px;font-family:LinLibertineO_gnp;color:#80171F;}
.s7_513{font-size:11px;font-family:LinLibertineO_gnp;color:#000;}
.s8_513{font-size:14px;font-family:LinLibertineO_gnp;color:#000;}
.s9_513{font-size:14px;font-family:LinLibertineO_gnp;color:#80171F;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts513" type="text/css" >

@font-face {
	font-family: LinBiolinumOB_gnt;
	src: url("fonts/LinBiolinumOB_gnt.woff") format("woff");
}

@font-face {
	font-family: LinBiolinumO_2g-;
	src: url("fonts/LinBiolinumO_2g-.woff") format("woff");
}

@font-face {
	font-family: LinLibertineOI_go3;
	src: url("fonts/LinLibertineOI_go3.woff") format("woff");
}

@font-face {
	font-family: LinLibertineO_gnp;
	src: url("fonts/LinLibertineO_gnp.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg513Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg513" style="-webkit-user-select: none;"><svg id="pdf513" width="640" height="853" viewBox="0 0 640 853" style="width:640px; height:853px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
<clipPath id="c0_513"><path d="M129.9,152.4V90.1H511.7v62.3Z"/></clipPath>
<style type="text/css"><![CDATA[
.g0_513{
fill: #E8E8E8;
stroke: #000;
stroke-width: 0.588;
stroke-linecap: round;
stroke-linejoin: round;
}
.g1_513{
fill: none;
stroke: #000;
stroke-width: 0.862;
stroke-linejoin: round;
}
.g2_513{
fill: #000;
stroke: #000;
stroke-width: 0.431;
}
.g3_513{
fill: none;
stroke: #000;
stroke-width: 0.862;
stroke-linecap: round;
stroke-linejoin: round;
}
.g4_513{
fill: none;
stroke: #000;
stroke-width: 0.608;
stroke-miterlimit: 10;
}
]]></style>
</defs>
<g clip-path="url(#c0_513)">
<path d="M261.5,91.2h80.7c2.2,0,4,1.8,4,3.9v53.1c0,2.2,-1.8,3.9,-4,3.9H261.5c-2.1,0,-3.9,-1.7,-3.9,-3.9V95.1c0,-2.1,1.8,-3.9,3.9,-3.9Z" class="g0_513"/>
<path d="M388.8,91.2h80.7c2.2,0,3.9,1.8,3.9,3.9v53.1c0,2.2,-1.7,3.9,-3.9,3.9H388.8c-2.2,0,-3.9,-1.7,-3.9,-3.9V95.1c0,-2.1,1.7,-3.9,3.9,-3.9Z" class="g0_513"/>
<path d="M346.2,121.7h36.5" class="g1_513"/>
<path fill-rule="evenodd" d="M379.2,121.7l-1.7,1.7l6,-1.7l-6,-1.8Z" class="g2_513"/>
<path d="M473.4,121.7H510" class="g1_513"/>
<path fill-rule="evenodd" d="M506.5,121.7l-1.7,1.7l6,-1.7l-6,-1.8Z" class="g2_513"/>
<path d="M130.4,116.2h125" class="g3_513"/>
<path fill-rule="evenodd" d="M252,116.2l-1.8,1.7l6.1,-1.7l-6.1,-1.8Z" class="g2_513"/>
<path d="M130.4,138.3h125" class="g3_513"/>
<path fill-rule="evenodd" d="M252,138.3l-1.8,1.7l6.1,-1.7l-6.1,-1.7Z" class="g2_513"/>
</g>
<path d="M80.1,615.2H272.4" class="g4_513"/>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_513" class="t s1_513">merge </span>
<span id="t2_513" class="t s1_513">bank </span>
<span id="t3_513" class="t s1_513">account </span>
<span id="t4_513" class="t s1_513">Paul's requests </span>
<span id="t5_513" class="t s1_513">Peter's requests </span>
<span id="t6_513" class="t s2_513">Figure 3.38: </span><span id="t7_513" class="t s3_513">A joint bank account, modeled by merging </span>
<span id="t8_513" class="t s3_513">two streams of transaction requests. </span>
<span id="t9_513" class="t s3_513">e trouble with this formulation is in the notion of </span><span id="ta_513" class="t s4_513">merge</span><span id="tb_513" class="t s3_513">. It will </span>
<span id="tc_513" class="t s3_513">not do to merge the two streams by simply taking alternately one re- </span>
<span id="td_513" class="t s3_513">quest from Peter and one request from Paul. Suppose Paul accesses the </span>
<span id="te_513" class="t s3_513">account only very rarely. We could hardly force Peter to wait for Paul to </span>
<span id="tf_513" class="t s3_513">access the account before he could issue a second transaction. However </span>
<span id="tg_513" class="t s3_513">such a merge is implemented, it must interleave the two transaction </span>
<span id="th_513" class="t s3_513">streams in some way that is constrained by “real time” as perceived </span>
<span id="ti_513" class="t s3_513">by Peter and Paul, in the sense that, if Peter and Paul meet, they can </span>
<span id="tj_513" class="t s3_513">agree that certain transactions were processed before the meeting, and </span>
<span id="tk_513" class="t s3_513">other transactions were processed aer the meeting. </span>
<span id="tl_513" class="t s5_513">75 </span>
<span id="tm_513" class="t s3_513">is is precisely </span>
<span id="tn_513" class="t s3_513">the same constraint that we had to deal with in </span><span id="to_513" class="t s6_513">Section 3.4.1</span><span id="tp_513" class="t s3_513">, where </span>
<span id="tq_513" class="t s3_513">we found the need to introduce explicit synchronization to ensure a </span>
<span id="tr_513" class="t s3_513">“correct” order of events in concurrent processing of objects with state. </span>
<span id="ts_513" class="t s3_513">us, in an aempt to support the functional style, the need to merge </span>
<span id="tt_513" class="t s3_513" data-mappings='[[14,"ff"]]'>inputs from diﬀerent agents reintroduces the same problems that the </span>
<span id="tu_513" class="t s3_513">functional style was meant to eliminate. </span>
<span id="tv_513" class="t s7_513">75 </span>
<span id="tw_513" class="t s8_513">Observe that, for any two streams, there is in general more than one acceptable or- </span>
<span id="tx_513" class="t s8_513">der of interleaving. us, technically, “merge” is a relation rather than a function—the </span>
<span id="ty_513" class="t s8_513">answer is not a deterministic function of the inputs. We already mentioned (</span><span id="tz_513" class="t s9_513">Footnote </span>
<span id="t10_513" class="t s9_513">39</span><span id="t11_513" class="t s8_513">) that nondeterminism is essential when dealing with concurrency. e merge rela- </span>
<span id="t12_513" class="t s8_513">tion illustrates the same essential nondeterminism, from the functional perspective. In </span>
<span id="t13_513" class="t s9_513">Section 4.3</span><span id="t14_513" class="t s8_513">, we will look at nondeterminism from yet another point of view. </span>
<span id="t15_513" class="t s3_513">485 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
