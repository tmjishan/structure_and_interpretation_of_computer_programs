<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p447" style="overflow: hidden; position: relative; background-color: white; width: 640px; height: 853px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	transform-origin: bottom left;
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
.text-container {
	white-space: pre;
}
@supports (-webkit-touch-callout: none) {
	.text-container {
		white-space: normal;
	}
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_447{left:80px;bottom:740px;}
#t2_447{left:88px;bottom:740px;letter-spacing:0.23px;}
#t3_447{left:140px;bottom:740px;}
#t4_447{left:147px;bottom:740px;letter-spacing:0.23px;word-spacing:4.33px;}
#t5_447{left:310px;bottom:740px;}
#t6_447{left:95px;bottom:721px;}
#t7_447{left:102px;bottom:721px;letter-spacing:0.23px;}
#t8_447{left:132px;bottom:721px;letter-spacing:0.23px;}
#t9_447{left:147px;bottom:721px;}
#ta_447{left:162px;bottom:721px;}
#tb_447{left:169px;bottom:721px;letter-spacing:0.23px;word-spacing:4.33px;}
#tc_447{left:310px;bottom:721px;letter-spacing:0.23px;}
#td_447{left:140px;bottom:701px;}
#te_447{left:147px;bottom:701px;}
#tf_447{left:162px;bottom:701px;}
#tg_447{left:169px;bottom:701px;letter-spacing:0.23px;word-spacing:4.33px;}
#th_447{left:288px;bottom:701px;letter-spacing:0.23px;}
#ti_447{left:110px;bottom:682px;letter-spacing:0.23px;}
#tj_447{left:125px;bottom:682px;letter-spacing:7.76px;}
#tk_447{left:147px;bottom:682px;}
#tl_447{left:162px;bottom:682px;letter-spacing:0.23px;}
#tm_447{left:206px;bottom:682px;letter-spacing:0.23px;}
#tn_447{left:80px;bottom:652px;letter-spacing:-0.13px;word-spacing:-0.67px;}
#to_447{left:80px;bottom:630px;letter-spacing:-0.17px;word-spacing:1.39px;}
#tp_447{left:80px;bottom:610px;letter-spacing:-0.27px;}
#tq_447{left:149px;bottom:609px;letter-spacing:-0.13px;word-spacing:-0.01px;}
#tr_447{left:80px;bottom:585px;}
#ts_447{left:88px;bottom:585px;letter-spacing:0.23px;}
#tt_447{left:140px;bottom:585px;}
#tu_447{left:147px;bottom:585px;letter-spacing:0.23px;word-spacing:4.33px;}
#tv_447{left:422px;bottom:585px;}
#tw_447{left:95px;bottom:566px;}
#tx_447{left:102px;bottom:566px;letter-spacing:0.23px;}
#ty_447{left:132px;bottom:566px;letter-spacing:0.23px;}
#tz_447{left:147px;bottom:566px;letter-spacing:0.23px;}
#t10_447{left:236px;bottom:566px;}
#t11_447{left:243px;bottom:566px;letter-spacing:0.23px;word-spacing:4.33px;}
#t12_447{left:392px;bottom:566px;letter-spacing:0.23px;}
#t13_447{left:140px;bottom:547px;}
#t14_447{left:147px;bottom:547px;letter-spacing:0.23px;}
#t15_447{left:236px;bottom:547px;}
#t16_447{left:243px;bottom:547px;letter-spacing:0.23px;word-spacing:4.33px;}
#t17_447{left:392px;bottom:547px;letter-spacing:0.23px;}
#t18_447{left:110px;bottom:528px;letter-spacing:0.23px;}
#t19_447{left:125px;bottom:528px;letter-spacing:0.23px;}
#t1a_447{left:214px;bottom:528px;}
#t1b_447{left:221px;bottom:528px;letter-spacing:0.23px;word-spacing:4.33px;}
#t1c_447{left:370px;bottom:528px;letter-spacing:0.23px;}
#t1d_447{left:117px;bottom:508px;letter-spacing:0.23px;}
#t1e_447{left:117px;bottom:489px;letter-spacing:0.23px;}
#t1f_447{left:177px;bottom:489px;letter-spacing:0.23px;}
#t1g_447{left:122px;bottom:449px;letter-spacing:-0.2px;word-spacing:-0.42px;}
#t1h_447{left:225px;bottom:449px;letter-spacing:-0.13px;word-spacing:-0.49px;}
#t1i_447{left:122px;bottom:428px;letter-spacing:-0.14px;word-spacing:0.87px;}
#t1j_447{left:122px;bottom:406px;letter-spacing:-0.14px;word-spacing:-0.42px;}
#t1k_447{left:122px;bottom:384px;letter-spacing:-0.16px;word-spacing:-1.1px;}
#t1l_447{left:122px;bottom:363px;letter-spacing:-0.15px;word-spacing:-0.97px;}
#t1m_447{left:122px;bottom:341px;letter-spacing:-0.17px;word-spacing:-0.18px;}
#t1n_447{left:122px;bottom:319px;letter-spacing:-0.14px;}
#t1o_447{left:140px;bottom:319px;letter-spacing:-0.15px;word-spacing:0.88px;}
#t1p_447{left:220px;bottom:319px;letter-spacing:-0.14px;word-spacing:0.85px;}
#t1q_447{left:122px;bottom:297px;letter-spacing:-0.16px;word-spacing:-0.17px;}
#t1r_447{left:122px;bottom:276px;letter-spacing:-0.15px;word-spacing:-1.01px;}
#t1s_447{left:122px;bottom:254px;letter-spacing:-0.14px;word-spacing:-1.01px;}
#t1t_447{left:332px;bottom:255px;letter-spacing:-0.27px;}
#t1u_447{left:401px;bottom:254px;letter-spacing:-0.16px;word-spacing:-1.01px;}
#t1v_447{left:122px;bottom:232px;letter-spacing:-0.14px;word-spacing:0.98px;}
#t1w_447{left:122px;bottom:210px;letter-spacing:-0.16px;word-spacing:-0.04px;}
#t1x_447{left:122px;bottom:189px;letter-spacing:-0.13px;word-spacing:0.07px;}
#t1y_447{left:122px;bottom:167px;letter-spacing:-0.14px;}
#t1z_447{left:122px;bottom:135px;letter-spacing:-0.19px;word-spacing:-1.32px;}
#t20_447{left:223px;bottom:135px;letter-spacing:-0.14px;word-spacing:-1.39px;}
#t21_447{left:122px;bottom:114px;letter-spacing:-0.16px;word-spacing:-0.37px;}
#t22_447{left:309px;bottom:72px;letter-spacing:-0.16px;}

.s1_447{font-size:12px;font-family:InconsolataLGC_go0;color:#686868;}
.s2_447{font-size:12px;font-family:InconsolataLGC-Bold_goe;color:#4172A3;}
.s3_447{font-size:12px;font-family:InconsolataLGC_go0;color:#262626;}
.s4_447{font-size:17px;font-family:LinLibertineO_gnp;color:#000;}
.s5_447{font-size:14px;font-family:InconsolataLGC_go0;color:#000;}
.s6_447{font-size:17px;font-family:LinBiolinumOB_gnt;color:#000;}
.s7_447{font-size:17px;font-family:LinLibertineO_gnp;color:#80171F;}
</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts447" type="text/css" >

@font-face {
	font-family: InconsolataLGC-Bold_goe;
	src: url("fonts/InconsolataLGC-Bold_goe.woff") format("woff");
}

@font-face {
	font-family: InconsolataLGC_go0;
	src: url("fonts/InconsolataLGC_go0.woff") format("woff");
}

@font-face {
	font-family: LinBiolinumOB_gnt;
	src: url("fonts/LinBiolinumOB_gnt.woff") format("woff");
}

@font-face {
	font-family: LinLibertineO_gnp;
	src: url("fonts/LinLibertineO_gnp.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg447Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg447" style="-webkit-user-select: none;"><svg id="pdf447" width="640" height="853" viewBox="0 0 640 853" style="width:640px; height:853px; -moz-transform:scale(1); z-index: 0; isolation: isolate;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs>
</defs>
</svg></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div class="text-container"><span id="t1_447" class="t s1_447">(</span><span id="t2_447" class="t s2_447">define </span><span id="t3_447" class="t s1_447">(</span><span id="t4_447" class="t s3_447">deposit account amount</span><span id="t5_447" class="t s1_447">) </span>
<span id="t6_447" class="t s1_447">(</span><span id="t7_447" class="t s2_447">let </span><span id="t8_447" class="t s1_447">((</span><span id="t9_447" class="t s3_447">s </span><span id="ta_447" class="t s1_447">(</span><span id="tb_447" class="t s3_447">account 'serializer</span><span id="tc_447" class="t s1_447">)) </span>
<span id="td_447" class="t s1_447">(</span><span id="te_447" class="t s3_447">d </span><span id="tf_447" class="t s1_447">(</span><span id="tg_447" class="t s3_447">account 'deposit</span><span id="th_447" class="t s1_447">))) </span>
<span id="ti_447" class="t s1_447">((</span><span id="tj_447" class="t s3_447">sd</span><span id="tk_447" class="t s1_447">) </span><span id="tl_447" class="t s3_447">amount</span><span id="tm_447" class="t s1_447">))) </span>
<span id="tn_447" class="t s4_447">Exporting the serializer in this way gives us enough ﬂexibility to imple- </span>
<span id="to_447" class="t s4_447">ment a serialized exchange program. We simply serialize the original </span>
<span id="tp_447" class="t s5_447">exchange </span><span id="tq_447" class="t s4_447">procedure with the serializers for both accounts: </span>
<span id="tr_447" class="t s1_447">(</span><span id="ts_447" class="t s2_447">define </span><span id="tt_447" class="t s1_447">(</span><span id="tu_447" class="t s3_447">serialized-exchange account1 account2</span><span id="tv_447" class="t s1_447">) </span>
<span id="tw_447" class="t s1_447">(</span><span id="tx_447" class="t s2_447">let </span><span id="ty_447" class="t s1_447">((</span><span id="tz_447" class="t s3_447">serializer1 </span><span id="t10_447" class="t s1_447">(</span><span id="t11_447" class="t s3_447">account1 'serializer</span><span id="t12_447" class="t s1_447">)) </span>
<span id="t13_447" class="t s1_447">(</span><span id="t14_447" class="t s3_447">serializer2 </span><span id="t15_447" class="t s1_447">(</span><span id="t16_447" class="t s3_447">account2 'serializer</span><span id="t17_447" class="t s1_447">))) </span>
<span id="t18_447" class="t s1_447">((</span><span id="t19_447" class="t s3_447">serializer1 </span><span id="t1a_447" class="t s1_447">(</span><span id="t1b_447" class="t s3_447">serializer2 exchange</span><span id="t1c_447" class="t s1_447">)) </span>
<span id="t1d_447" class="t s3_447">account1 </span>
<span id="t1e_447" class="t s3_447">account2</span><span id="t1f_447" class="t s1_447">))) </span>
<span id="t1g_447" class="t s6_447">Exercise 3.43: </span><span id="t1h_447" class="t s4_447">Suppose that the balances in three accounts </span>
<span id="t1i_447" class="t s4_447">start out as $10, $20, and $30, and that multiple processes </span>
<span id="t1j_447" class="t s4_447">run, exchanging the balances in the accounts. Argue that if </span>
<span id="t1k_447" class="t s4_447">the processes are run sequentially, aer any number of con- </span>
<span id="t1l_447" class="t s4_447">current exchanges, the account balances should be $10, $20, </span>
<span id="t1m_447" class="t s4_447">and $30 in some order. Draw a timing diagram like the one </span>
<span id="t1n_447" class="t s4_447">in </span><span id="t1o_447" class="t s7_447">Figure 3.29 </span><span id="t1p_447" class="t s4_447">to show how this condition can be violated </span>
<span id="t1q_447" class="t s4_447" data-mappings='[[43,"fi"]]'>if the exchanges are implemented using the ﬁrst version of </span>
<span id="t1r_447" class="t s4_447">the account-exchange program in this section. On the other </span>
<span id="t1s_447" class="t s4_447">hand, argue that even with this </span><span id="t1t_447" class="t s5_447">exchange </span><span id="t1u_447" class="t s4_447">program, the sum </span>
<span id="t1v_447" class="t s4_447">of the balances in the accounts will be preserved. Draw a </span>
<span id="t1w_447" class="t s4_447">timing diagram to show how even this condition would be </span>
<span id="t1x_447" class="t s4_447">violated if we did not serialize the transactions on individ- </span>
<span id="t1y_447" class="t s4_447">ual accounts. </span>
<span id="t1z_447" class="t s6_447">Exercise 3.44: </span><span id="t20_447" class="t s4_447">Consider the problem of transferring an amount </span>
<span id="t21_447" class="t s4_447">from one account to another. Ben Bitdiddle claims that this </span>
<span id="t22_447" class="t s4_447">419 </span></div>
<!-- End text definitions -->


</div>
</body>
</html>
